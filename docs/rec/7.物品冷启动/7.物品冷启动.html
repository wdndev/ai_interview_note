<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../css/wolai.css"/><title>7.物品冷启动 - wolai 笔记</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body><header><div class="image"></div><div class="title"><div class="banner"><div class="icon"></div></div><div data-title="7.物品冷启动" class="main-title"></div></div></header><article><h1 id="9XpxVbPNTs1YSknxr6RfYo" class="wolai-block"><span class="inline-wrap">1.评价指标</span></h1><div id="uDkwxyePpR6v13req2Jvn1" class="wolai-block wolai-text"><div><span class="inline-wrap">很少有 UGC 能让冷启动达到天花板。</span></div></div><h2 id="qMAEi8XJBEeXTJeSL2pusH" class="wolai-block"><span class="inline-wrap">1.1<span class="jill"></span>物品冷启动</span></h2><ul class="wolai-block"><li id="5TgaKWS5qyw83vL4y9RL2z"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">小红书上用户新发布的笔记</span></li><li id="4iazeCJnSZYGu3kB8pLYzM"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">B<span class="jill"></span>站上用户新上传的视频</span></li><li id="iwtb2iFh97hRYcnsdkJWvD"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">今日头条上作者新发布的文章</span></li></ul><div id="7eJfrsPEqdYHJsJcGFhgHF" class="wolai-block wolai-text"><div><span class="inline-wrap">此处主要考虑</span><span class="red inline-wrap"><b> UGC（User Generated Content）</b></span><span class="inline-wrap"> 的物品冷启动；与 UGC 相反的是 </span><span class="red inline-wrap"><b>PGC（Platform Generated Content）</b></span><span class="inline-wrap">，例如网飞、腾讯视频。UGC 冷启比 PGC 更难，因为用户上传的内容良莠不齐，而且量大。</span></div></div><ul class="wolai-block"><li id="fm7EcKoQ95aFM9SsmWk9a6"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">思考：为什么要特殊对待新笔记？</span></li></ul><h3 id="gDv9Ewgdt4QbdpaNtEaqHo" class="wolai-block"><span class="inline-wrap">（1）新笔记需要冷启动的原因</span></h3><ul class="wolai-block"><li id="tzkNEaz7rKr3iQQD8aqVqo"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="red inline-wrap"><b>新笔记缺少与用户的交互</b></span><span class="inline-wrap">，导致推荐的难度大、效果差</span></li><li id="7Doh5thqdLQxwK6aKwq5SD"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">扶持新发布、低曝光的笔记，可以增强作者发布意愿</span></li></ul><h3 id="mguUUyTZd5tCDPpHXyNa44" class="wolai-block"><span class="inline-wrap">（2）优化冷启的目标</span></h3><ol class="wolai-block"><li id="vox6Avdb5mGZv3BBHKbWUU"><div class="marker"></div><span class="yellow inline-wrap">精准推荐</span><span class="inline-wrap">：克服冷启的困难，把新笔记推荐给合适的用户，不引起用户反感</span></li><li id="qp61pgj3kq616diswyof9e"><div class="marker"></div><span class="yellow inline-wrap"><b>激励发布</b></span><span class="inline-wrap">：流量向低曝光新笔记倾斜，激励作者发布</span></li><li id="2DgLvuwveSYBjPESuzevSR"><div class="marker"></div><span class="yellow inline-wrap"><b>挖掘高潜</b></span><span class="inline-wrap">：通过初期小流量的试探，找到高质量的笔记，给与流量倾斜</span></li></ol><h3 id="dLZtGy16sBsHEj9GzdL28P" class="wolai-block"><span class="inline-wrap">（3）评价指标</span></h3><ul class="wolai-block"><li id="8HDxgxSZUHttDhpRpQha92"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">作者侧指标：反映用户的发布意愿；对低曝光扶持的越好，作者侧指标就越高。</span><ul class="wolai-block"><li id="GFm3RNWSFSunbM5WHhH4q"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">发布渗透率、人均发布量；</span></li></ul></li><li id="qFppWdZ87dC3dftm253PVz"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">用户侧指标：反映推荐是否精准，是否会引起用户反感</span><ul class="wolai-block"><li id="kua7hwAj8A9rxbLbUqY5CK"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">新笔记指标：新笔记的点击率、交互率</span></li><li id="5Jhw6A9xMW7VQU3ZbJMtwv"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">大盘指标：消费时长、日活、月活</span></li></ul></li><li id="5rY4m5XVZd34mLSsxPqKaL"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">内容侧指标：反映冷启是否能挖掘优秀笔记</span><ul class="wolai-block"><li id="8ecktHSrY914fuuu4U2gLS"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">高热笔记占比</span></li></ul></li></ul><div id="8wwLv7ZNu2D8GBGyf6nNW8" class="wolai-block wolai-text"><div><span class="inline-wrap">作者侧和用户侧指标基本都在用，内容侧指标选用</span></div></div><h2 id="t8zYi7UQ6UHttHnkVSo9UJ" class="wolai-block"><span class="inline-wrap">1.2<span class="jill"></span>作者侧指标</span></h2><ul class="wolai-block"><li id="8LWWGCtqKh54qhsueE7vFP"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="yellow inline-wrap">发布渗透率、人均发布量反映出作者的发布积极性</span></li><li id="gHU4XVMGYXUVAd8LXKcfeh"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">冷启的重要优化目标是促进发布，增大内容池</span></li><li id="mFdFxtoNWioWsRK2tskGRv"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><b>新笔记获得的曝光越多，首次曝光和交互出现得越早，作者发布积极性越高</b></span></li></ul><h3 id="cR2Z1ps55xiNkVKFQSaq2e" class="wolai-block"><span class="inline-wrap">（1）发布渗透率（penetration rate）</span></h3><div id="ndMmxtqqL1xhvXASuaACfq" class="wolai-block wolai-text"><div><span class="red inline-wrap"><b>衡量用户的发布积极性</b></span><span class="inline-wrap">。</span></div></div><ul class="wolai-block"><li id="42b8YTZ22VN3pVvDZeAL3S"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="red inline-wrap"><b>发布渗透率 = 当日发布人数 / 日活人数</b></span></li><li id="daQHUXJXxRXwErWMjEqUix"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">发布一篇或以上，就算一个发布人数</span></li><li id="fxuBRRQJWBE6uZRYMTbnRF"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">例：</span><ul class="wolai-block"><li id="7oCtmyZurMQsGTpiEyF4kd"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">当日发布人数 = 100 万</span></li><li id="qkraxmTyE2X2ms9SS1bUVN"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">日活人数 = 2000 万</span></li><li id="ak8AVLSA3kv5Vabvbai5kC"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">发布渗透率 = 100 / 2000 = 5%</span></li></ul></li></ul><h3 id="hAQ2GYVvEnZF3SKMcijXKp" class="wolai-block"><span class="inline-wrap">（2）人均发布量</span></h3><ul class="wolai-block"><li id="kipFxQD3pdSnMVBh4RGqFi"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="red inline-wrap"><b>人均发布量 = 当日发布笔记数 / 日活人数</b></span></li><li id="5h8d7ZDvcmGSuyuxe3qxxY"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">例：</span><ul class="wolai-block"><li id="gKXKuEn9DdJXZUTM79hVto"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">每日发布笔记数 = 200 万</span></li><li id="46s2pSf9h2hqMg8ysRzyHC"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">日活人数 = 2000 万</span></li><li id="eAAzM3jMFyh7HCPpEvHram"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">人均发布量 = 200 / 2000 = 0.1</span></li></ul></li></ul><h2 id="5AYiwiGMn38Jc68Ry2qUxk" class="wolai-block"><span class="inline-wrap">1.3<span class="jill"></span>用户侧指标</span></h2><h3 id="u6boxgod3mKcB82Q7q5Cp4" class="wolai-block"><span class="inline-wrap">（1）新笔记的消费指标</span></h3><div id="vFZfbq9uBEzQb5jd2dvQ8g" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>新笔记的点击率、交互率</b></span></div></div><ul class="wolai-block"><li id="hfGNRcM6kDJFpiQgD11BNL"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">问题：曝光的基尼系数很大。即少量头部新笔记推送准确，但大部分新笔记的推送不准，综合下来点击率、交互率也很高</span></li><li id="mGYkUNwkdd8dpDbBxiN1bi"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">少数头部新笔记占据了大部分的曝光</span></li></ul><div id="kPEupgywzJ4kAPtAqhnzpK" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>分别考察高曝光、低曝光新笔记</b></span></div></div><ul class="wolai-block"><li id="n8duhuQGvDTc2VkUpSwksm"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">高曝光（占比低，推荐简单）：比如 &gt;1000 次曝光</span></li><li id="m9wR3DWzov6sa4wxY96L8B"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">低曝光（占比高，推荐难）：比如 &lt;1000 次曝光</span></li></ul><h3 id="hryy8HnGGejrLY1nXLDvzn" class="wolai-block"><span class="inline-wrap">（2）大盘消费指标（不区分新老笔记）</span></h3><ul class="wolai-block"><li id="jgNhdHJXo7GzbaMETkdbCb"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="yellow inline-wrap"><b>优化冷启时，不是为了提升大盘指标，而是确保新策略不显著伤害大盘指标</b></span></li><li id="uVauZFgxyKQtTciZqvJiGa"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">大盘的消费时长、日活、月活</span></li><li id="r6727H63JsDXTcW2mfc7j2"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">大力扶持低曝光新笔记会发生什么？</span><ul class="wolai-block"><li id="hvhPEr9TvBUw81tzQ4Mo8R"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">作者侧发布指标变好</span></li><li id="ky4sqxNmWmg8cZEcnykb6w"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">用户侧大盘消费指标变差（损害用户体验）</span></li></ul></li></ul><h2 id="ixPvpRZ4EShVAWALGXafRh" class="wolai-block"><span class="inline-wrap">1.4<span class="jill"></span>内容侧指标</span></h2><div id="hxFyG2QavKL5u6sJ4RK5qw" class="wolai-block wolai-text"><div><span class="inline-wrap">高热笔记占比</span></div></div><ul class="wolai-block"><li id="ixQCi68rJCwJeYcQjWGsgK"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">高热笔记：前 30 天获得 1000+ 次点击</span></li><li id="kBW6pzdCMZoYVSJzt4uAwa"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">高热笔记占比越高，说明冷启阶段挖掘优质笔记的能力越强</span></li></ul><h3 id="o8b1WrgZNjco2tRFjMgevK" class="wolai-block"><span class="inline-wrap">总结</span></h3><ul class="wolai-block"><li id="pfdV5Kui9RQha32JtqGFFm"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">作者侧指标：发布渗透率、人均发布量</span></li><li id="9i4GpBaFwhCudRZNibKrig"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">用户侧指标：新笔记消费指标、大盘消费指标</span></li><li id="4waWhSt5BQaXo3kyE6ABUV"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">内容侧指标：高热笔记占比</span></li><li id="gJev23v8pnE3hEBTmX2BBt"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">冷启动的优化点</span><ul class="wolai-block"><li id="kE6y1zQs1ekw9eVYxFaoYa"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="yellow inline-wrap">优化全链路（包括召回和排序）</span></li><li id="vqFZUCz2Y91HwJoJyZRPW5"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="yellow inline-wrap">流量调控</span><span class="inline-wrap">（流量怎么在新物品、老物品中分配）</span></li></ul></li></ul><h1 id="aKfWr1YiMoUx9MH2riwzRu" class="wolai-block"><span class="inline-wrap">2.简单的召回通道</span></h1><h2 id="4HkmfSXGi7Hrf2qT9ZGM3s" class="wolai-block"><span class="inline-wrap">2.1<span class="jill"></span>召回的难点</span></h2><div id="3MPtpEVcETFUApNPRiSCYW" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>召回的依据</b></span></div></div><ul class="wolai-block"><li id="6xQtbQfpSXWmrY13fGMKGQ"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">✔ 自带图片、文字、地点</span></li><li id="rgPiXTYGsRYVwbCefc5UN7"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">✔ 算法或人工标注的标签</span></li><li id="9abWnTi9bQN4pS3n2wYjom"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">❌ 没有用户点击、点赞等信息。这些信息可以反映笔记的质量，以及哪类用户喜欢该笔记</span></li><li id="2ocTB42oYEF7HPxuMGsAUR"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">❌ 没有笔记 ID embedding。ID embedding 是从用户和笔记的交互中学习出来的；缺少这个特征，召回和排序都不准确。</span></li></ul><div id="f5MoiHX1BiZesfVyoaoJK3" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>冷启召回的困难</b></span></div></div><ul class="wolai-block"><li id="ecpQQKAwiP7vv8R3o9JcJh"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">缺少用户交互，还没学好笔记 ID embedding，导致双塔模型效果不好，后续会影响排序，让排序模型也不准确。</span></li><li id="gP83LFqmR8XHz8nWBY8Laq"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="yellow inline-wrap">双塔模型是推荐系统中最重要的召回通道，没有之一</span></li><li id="qM1xv1LK2aUfVm9pC2Wxy1"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">缺少用户交互，导致 ItemCF 不适用</span></li></ul><div id="jJASuk1BLoCrHGSTE3p4z9" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>itemCF<span class="jill"></span>不使用于物品冷启动</b></span><span class="inline-wrap">：根据笔记和用户的交互，来判断两个物品的相似度。</span></div></div><div id="v6yZMwkLe8a8iTGMvE8aiA" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image.png" style="width: 100%"/></figure></div><div id="3y9NnaUDdcJxbHVXAMseWi" class="wolai-block"><figure class="wolai-center" style="width: 588px; flex-direction: column"><img src="media/image_1.png" style="width: 100%"/></figure></div><div id="dZZcGYDyZm1zrerYj2CPKU" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>召回通道</b></span></div></div><ul class="wolai-block"><li id="onXGQrPwUvpRw1ZXFDEGPk"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">❌</span><span class="yellow inline-wrap"><b> ItemCF 召回（不适用）</b></span></li><li id="6Kh7iYBdBfdWDi7dqWRa3z"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">❔ </span><span class="red inline-wrap"><b>双塔模型（改造后适用）</b></span></li><li id="5ccAUyC1XGWSSWomN9MAuN"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">✔ 类目、关键词召回（适用）；刚刚发布时，是最有用的指标，等一段事件后，会失效。</span></li><li id="SHYHRbRXkAnZPmHBiuj2E"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">✔ 聚类召回（适用）</span></li><li id="6QzTbhjfc53gt7AET4CiFw"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">✔ Look-Alike 召回（适用）</span></li></ul><h2 id="2KvYccxvTXwF9aASFhhdWh" class="wolai-block"><span class="inline-wrap">2.2 双塔模型</span></h2><div id="2ezcfptp71NQcqjSjSSBfa" class="wolai-block wolai-text"><div><span class="inline-wrap">物品<span class="jill"></span>ID（笔记<span class="jill"></span>ID）是物品塔中最重要的特征。新笔记还没有<span class="jill"></span>embedding<span class="jill"></span>向量，直接中双塔模型的物品塔做<span class="jill"></span>embedding，效果不是很好。</span></div></div><div id="8LFuo8KpnUke2xgYbaziNc" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_2.png" style="width: 100%"/></figure></div><h3 id="qe3Ds5KLhhTi2TSEn1QaCf" class="wolai-block"><span class="inline-wrap">（1）ID Embedding</span></h3><div id="uHirKnmB9eubCsUcEBJz68" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>改进方案 1：新笔记使用 default embedding</b></span></div></div><ul class="wolai-block"><li id="jf2c3VghsHUoWTg57tvWtM"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">物品塔做 ID embedding 时，让所有新笔记共享一个 ID，而不是用自己真正的 ID</span></li><li id="akL393J4FHEBjXnR5sncng"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">Default embedding：共享的 ID 对应的 embedding 向量</span></li><li id="d9m94zWQjeAxHJmvT3zT8Q"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">学出来的 Default embedding 比随机初始化一个 ID embedding 要好；</span></li><li id="3pa5kUEQDVbT5DvXHYE2cE"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">到下次模型训练的时候，新笔记才有自己的 ID embedding 向量</span></li></ul><div id="nBv2micvLYHZkyJb4Hz7pq" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>改进方案 2：利用相似笔记 embedding 向量</b></span></div></div><ul class="wolai-block"><li id="qkxEGpDSspy67cLDpr9MBY"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">查找 top k 内容最相似的高曝笔记</span></li><li id="9GgimVKV4XeMnoghebWFmB"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">把 k 个高曝笔记的 embedding 向量取平均，作为新笔记的 embedding</span></li><li id="u49SZ53LmzourEc8Rx6QZZ"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">之所以用 高爆笔记，是因为它们的 embedding 通常学得比较好</span></li></ul><h3 id="6AWB3jjv5eGPNgfy1eWBg2" class="wolai-block"><span class="inline-wrap">（2）多个向量召回池</span></h3><div id="c7c2o9wWQMYdbYY8ogMeD3" class="wolai-block wolai-text"><div><span class="inline-wrap">多个召回池，让新笔记有更多曝光机会</span></div></div><ul class="wolai-block"><li id="x9tXhDCQEUzEDRuJ4J91Wc"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">1 小时新笔记</span></li><li id="aLXSKY2xDkXi9PztUVFdg7"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">6 小时新笔记</span></li><li id="uzZmffpK1tgtayKXtXjvoR"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">24 小时新笔记</span></li><li id="mgfmvPU4dgc9e9pc3eB2Qh"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">30 天笔记</span></li></ul><div id="sfDoHvG3F8kbYk84i4jfKR" class="wolai-block wolai-text"><div><span class="inline-wrap">所有召回池共享同一个双塔模型，那么多个召回池不增加训练的代价</span></div></div><h2 id="e6WtNZeFZScEik7ft1HDcS" class="wolai-block"><span class="inline-wrap">2.3<span class="jill"></span>类目召回</span></h2><h3 id="aTyhZjvahG1rLb4kpaUuq3" class="wolai-block"><span class="inline-wrap">（1）用户画像</span></h3><ul class="wolai-block"><li id="jP942USUTu8EVRibkBemWJ"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">感兴趣的</span><span class="yellow inline-wrap"><b>类目</b></span><span class="inline-wrap">：美食、科技数码、电影......</span></li><li id="cHDf3NMvaqW62TXovggYjS"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">感兴趣的</span><span class="yellow inline-wrap"><b>关键词</b></span><span class="inline-wrap">：纽约、职场、搞笑、程序员、大学......</span></li></ul><h3 id="8LtWp3AR7AehDYZPHiTRtK" class="wolai-block"><span class="inline-wrap">（2）基于类目的召回</span></h3><div id="3pzwd57cATFCC5BHRwJJBs" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_3.png" style="width: 100%"/></figure></div><ul class="wolai-block"><li id="skDcX3wGgii8itJGEhg2EN"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><b>系统维护类目索引</b></span><span class="inline-wrap">：</span><span class="yellow inline-wrap">类目 → 笔记列表（按时间倒排）</span></li><li id="kc67tnseSGvJrwBp3iSEUv"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">用类目索引做召回：</span><span class="yellow inline-wrap">用户画像 → 类目 → 笔记列表</span></li><li id="2cBLJz9Gi9rh5zeUZGG1Qz"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">取回笔记列表上前 k 篇笔记（即最新的 k 篇）</span></li></ul><h3 id="93n4Q77doQSNvfqjrYbAPk" class="wolai-block"><span class="inline-wrap">（3）基于关键词的召回</span></h3><ul class="wolai-block"><li id="3yrs5exJUyHCrHQdufaW4s"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">系统维护关键词索引：</span><span class="yellow inline-wrap">关键词 → 笔记列表（按时间倒排）</span></li><li id="n3bCrAwDikvFTpWvqzCfb9"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">根据用户画像上的</span><span class="inline-wrap"><b>关键词</b></span><span class="inline-wrap">做召回</span></li></ul><h3 id="m3MbsyZJBmMEaso52bHijs" class="wolai-block"><span class="inline-wrap">（4）缺点</span></h3><div id="ikihTZkegi5JvvmAbSZiQp" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>缺点 1：</b></span><span class="yellow inline-wrap"><b>只对刚刚发布的新笔记有效</b></span></div></div><ul class="wolai-block"><li id="nkVp6ie4sVSv7RdjKaXKnh"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">取回某 类目/关键词 下最新的 k 篇笔记</span></li><li id="s75kczMoCZws5PAWsqzghD"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">发布几小时之后，就再没有机会被召回</span></li><li id="sK67LxAuJuHGQohSVX15X9"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">所以应该在用户高频使用软件的时间段发布内容</span></li></ul><div id="weo3PUuf22BEiHWsgjGHcj" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>缺点 2：</b></span><span class="yellow inline-wrap"><b>弱个性化，不够精准</b></span></div></div><h2 id="adn5BTi8BDDduTze5WYjgz" class="wolai-block"><span class="inline-wrap">2.4<span class="jill"></span>总结</span></h2><ul class="wolai-block"><li id="e1DdbeK4iMMufmfsKkvG2h"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">❌ ItemCF 召回（</span><span class="inline-wrap"><b>不适用</b></span><span class="inline-wrap">）</span></li><li id="fUbfGGEVgV5ZNgb8tmJQsa"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">❔ 双塔模型（</span><span class="inline-wrap"><b>改造后适用</b></span><span class="inline-wrap">）</span></li><li id="7oe3HRQRNpFYfxh4tHMZKY"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">✔ 类目、关键词召回（</span><span class="inline-wrap"><b>适用</b></span><span class="inline-wrap">）</span></li><li id="2KbJbm7H4ne5c4gxq95kW3"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">✔ 聚类召回（</span><span class="inline-wrap"><b>适用</b></span><span class="inline-wrap">）</span></li><li id="uwauYcpFvFt764wzNq7E41"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">✔ Look-Alike 召回（</span><span class="inline-wrap"><b>适用</b></span><span class="inline-wrap">）</span></li></ul><h1 id="bBnoJSfZxkChb1J6JW9eA7" class="wolai-block"><span class="inline-wrap">3.聚类召回</span></h1><h2 id="cXGWhch2w3BKucX268GthW" class="wolai-block"><span class="inline-wrap">3.1<span class="jill"></span>聚类召回</span></h2><h3 id="riRn2fw8X7zWV8bLHhPsYi" class="wolai-block"><span class="inline-wrap">（1）基本思想</span></h3><ul class="wolai-block"><li id="rdrjHq9hoQQWMjtDNFTuaS"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">如果用户喜欢一篇笔记，那么他会喜欢内容相似的笔记</span></li><li id="oj93jd1HcPtQGenwLecEkw"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">事先训练一个神经网络，基于笔记的类目和图文内容，把笔记映射到向量</span></li><li id="f47xCx1sNLJC3iXjd2CwBm"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">对笔记向量做聚类，划分为 1000 cluster，记录每个 cluster 的中心方向（k-means 聚类，用余弦相似度）</span></li></ul><h3 id="7xdDuHSecz5r2nRputYUqo" class="wolai-block"><span class="inline-wrap">（2）聚类索引</span></h3><ul class="wolai-block"><li id="5DecLppNfL81cHmqbnQ1Hh"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">一篇新笔记发布之后，用神经网络把它映射到一个特征向量</span></li><li id="xiEaG4T29ZQWbU67qHw2Lp"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">从 1000 个向量（对应 1000 个 cluster）中找到最相似的向量，作为新笔记的 cluster</span></li><li id="v8skEi5AMJUYQMGJdT8yyk"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">索引：</span><span class="inline-wrap"><b>cluster → 笔记 ID 列表（按时间倒排）</b></span></li></ul><h3 id="YkHRxR9bEB2HJ7ybX8eeZ" class="wolai-block"><span class="inline-wrap">（3）线上召回</span></h3><ul class="wolai-block"><li id="rtXu1pbmc5SJvFsdi3Paei"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">给定用户 ID，找到他的 last-n 交互的笔记列表，把这些笔记作为种子笔记，去召回相似的笔记</span></li><li id="ioxy7BjFQCgTqXXoYYhqnD"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">把每篇种子笔记映射到向量，寻找最相似的 cluster（知道了用户对哪些 cluster 感兴趣）</span></li><li id="q6iL65wY8vH7DbMj1mczz4"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">从每个 cluster 的笔记列表中，取回最新的 </span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span></span><span class="inline-wrap">篇笔记</span></li><li id="rMorabhCmXY5RPGGFTEPKL"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">最多取回</span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">mn</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">mn</span></span></span></span></span><span class="inline-wrap">篇新笔记 （n<span class="jill"></span>表示保留<span class="jill"></span>n<span class="jill"></span>条用户行为记录，包括点赞、收藏、转发等；m<span class="jill"></span>表示每篇种子笔记召回<span class="jill"></span>m<span class="jill"></span>条新笔记）</span></li><li id="6D5KVUbQ9AkTRGMQ6rmdpN"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">聚类召回与类目召回的缺点相同：</span><span class="yellow inline-wrap"><b>只对刚发布的新笔记有效</b></span></li></ul><h2 id="iEQzJ5AuCZp2Pfv2NADtrv" class="wolai-block"><span class="inline-wrap">3.2<span class="jill"></span>内容相似度模型</span></h2><div id="sh4F63QmDX7kzyKSEeqES4" class="wolai-block wolai-text"><div><span class="inline-wrap">聚类召回通过内容相似度模型来把笔记映射到向量。</span></div></div><div id="34stjxDWGBQHAF1t9xQz8V" class="wolai-block wolai-text"><div><span class="inline-wrap">CNN<span class="jill"></span>提取图片特征，得到一个向量；用<span class="jill"></span>BERT<span class="jill"></span>提取文字特征，得到另一个向量。把两个向量拼接，输入<span class="jill"></span>FC，得到笔记的特征向量。</span></div></div><div id="faVmJXAVJGJHwKzAGjyaWE" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_4.png" style="width: 100%"/></figure></div><div id="2q9ZLFZfXKwSafEjRAyirq" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_5.png" style="width: 100%"/></figure></div><ul class="wolai-block"><li id="6d1KDnq5bZpFuQ4QezehC9"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">左右两个用的神经网络的参数是相同的</span></li><li id="eggm9WktLyiY5VALXu6N7y"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">CNN 和 BERT 可以用预训练模型，全连接层是随机初始化后训练出来的</span></li></ul><h2 id="sjHYemZF8zWX6st2pL71eW" class="wolai-block"><span class="inline-wrap">3.3<span class="jill"></span>训练内容相似度模型</span></h2><div id="pWJ1i4ZG4pLKgPGet1fAC8" class="wolai-block wolai-text"><div><span class="inline-wrap">给定用户 ID，找到他的 last-n 交互的笔记列表，把这些笔记作为种子笔记</span></div></div><div id="Lr4ZL2v4ryGhw1tybGGs3" class="wolai-block wolai-text"><div><span class="inline-wrap">训练方式和双塔模型类似，输入特征为三元组</span><span class="inline-wrap"><code>&lt;正样本笔记，种子笔记，负样本笔记&gt;</code></span></div></div><div id="aLHrmqqsMXUZbKwCbM9gfg" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_6.png" style="width: 100%"/></figure></div><div id="58ArpZVVLaL9SY8Rj9AwkP" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>基本思想</b></span><span class="inline-wrap">：鼓励</span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>cos</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mi mathvariant="bold">a</mi><mo separator="true">,</mo><msup><mi mathvariant="bold">b</mi><mo lspace="0em" rspace="0em">+</mo></msup><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\cos \left(\mathbf{a}, \mathbf{b}^{+}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0213em;vertical-align:-0.25em;"></span><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathbf">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span></span><span class="inline-wrap">大于</span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>cos</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mi>a</mi><mo separator="true">,</mo><msup><mi>b</mi><mo lspace="0em" rspace="0em">−</mo></msup><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">\cos \left(a, b^{-}\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0213em;vertical-align:-0.25em;"></span><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span></span></div></div><div id="nkvKvrdDsUoBymj5FRYWcG" class="wolai-block wolai-text"><div><span class="inline-wrap">Triplet hinge loss：</span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mrow><mo fence="true">(</mo><mi mathvariant="bold">a</mi><mo separator="true">,</mo><msup><mi mathvariant="bold">b</mi><mo lspace="0em" rspace="0em">+</mo></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">b</mi><mo lspace="0em" rspace="0em">−</mo></msup><mo fence="true">)</mo></mrow><mo>=</mo><mi>max</mi><mo>⁡</mo><mrow><mo fence="true">{</mo><mn>0</mn><mo separator="true">,</mo><mi>cos</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mi mathvariant="bold">a</mi><mo separator="true">,</mo><msup><mi mathvariant="bold">b</mi><mo lspace="0em" rspace="0em">−</mo></msup><mo fence="true">)</mo></mrow><mo>+</mo><mi>m</mi><mo>−</mo><mi>cos</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mi mathvariant="bold">a</mi><mo separator="true">,</mo><msup><mi mathvariant="bold">b</mi><mo lspace="0em" rspace="0em">+</mo></msup><mo fence="true">)</mo></mrow><mo fence="true">}</mo></mrow></mrow><annotation encoding="application/x-tex">L\left(\mathbf{a}, \mathbf{b}^{+}, \mathbf{b}^{-}\right)=\max \left\{0, \cos \left(\mathbf{a}, \mathbf{b}^{-}\right)+m-\cos \left(\mathbf{a}, \mathbf{b}^{+}\right)\right\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0213em;vertical-align:-0.25em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathbf">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0213em;vertical-align:-0.25em;"></span><span class="mop">max</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathbf">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathbf">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mclose delimcenter" style="top:0em;">}</span></span></span></span></span></span></div></div><div id="orj39W2obb77jrFbTU3Lvg" class="wolai-block wolai-text"><div><span class="inline-wrap">Triplet logistic loss：</span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mrow><mo fence="true">(</mo><mi mathvariant="bold">a</mi><mo separator="true">,</mo><msup><mi mathvariant="bold">b</mi><mo lspace="0em" rspace="0em">+</mo></msup><mo separator="true">,</mo><msup><mi mathvariant="bold">b</mi><mo lspace="0em" rspace="0em">−</mo></msup><mo fence="true">)</mo></mrow><mo>=</mo><mi>log</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mn>1</mn><mo>+</mo><mi>exp</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mi>cos</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mi mathvariant="bold">a</mi><mo separator="true">,</mo><msup><mi mathvariant="bold">b</mi><mo lspace="0em" rspace="0em">−</mo></msup><mo fence="true">)</mo></mrow><mo>−</mo><mi>cos</mi><mo>⁡</mo><mrow><mo fence="true">(</mo><mi mathvariant="normal">a</mi><mo separator="true">,</mo><msup><mi mathvariant="bold">b</mi><mo lspace="0em" rspace="0em">+</mo></msup><mo fence="true">)</mo></mrow><mo fence="true">)</mo></mrow><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">L\left(\mathbf{a}, \mathbf{b}^{+}, \mathbf{b}^{-}\right)=\log \left(1+\exp \left(\cos \left(\mathbf{a}, \mathbf{b}^{-}\right)-\cos \left(\mathrm{a}, \mathbf{b}^{+}\right)\right)\right)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0213em;vertical-align:-0.25em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathbf">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0213em;vertical-align:-0.25em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mop">exp</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathbf">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mop">cos</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathrm">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbf">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">+</span></span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mclose delimcenter" style="top:0em;">)</span></span></span></span></span></span></div></div><div id="7AmYFWWXdZoNk1cJXNbw2o" class="wolai-block wolai-text"><div><span class="inline-wrap">此处的公式与 召回 - 双塔模型 - Pairwise 训练 中相似</span></div></div><h2 id="pAQLrPui7HZXpuHyTcwFk7" class="wolai-block"><span class="inline-wrap">3.4 样本选取</span></h2><h3 id="wy29ny6PGyKSR1QASBqLbF" class="wolai-block"><span class="inline-wrap">（1）&lt; 种子笔记，正样本 &gt;</span></h3><h4 id="j1mwivDLdivKHhYr6c4wnH" class="wolai-block"><span class="inline-wrap">方法一：人工标注二元组的相似度</span></h4><h4 id="6nUbCR2gmAh5rhacZzKk5H" class="wolai-block"><span class="inline-wrap">方法二：算法自动选正样本</span></h4><div id="tzDdV2pBxMZDTs7cJxx34J" class="wolai-block wolai-text"><div><span class="inline-wrap">筛选条件：</span></div></div><ul class="wolai-block"><li id="iFSLSc81wvAkaaZxX5AuGY"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">只用高曝光笔记作为二元组（因为有充足的用户交互信息）</span></li><li id="jCLHXtpegKS2pXQjzX1Vpz"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">两篇笔记有相同的二级类目，比如都是“菜谱教程”</span></li></ul><div id="sve9NGtgYs64siM9hiJnDi" class="wolai-block wolai-text"><div><span class="inline-wrap">用 ItemCF 的物品相似度选正样本</span></div></div><h3 id="pFjSY4W9evZEB7FgK28Zoj" class="wolai-block"><span class="inline-wrap">（2）&lt; 种子笔记，负样本 &gt;</span></h3><div id="9EN1awoLD4Ad6vp7NSrxdi" class="wolai-block wolai-text"><div><span class="inline-wrap">从全体笔记中随机选出满足条件的：</span></div></div><ul class="wolai-block"><li id="eVsRXzNFNyZQGXJMSjBJtd"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">字数较多（神经网络提取的文本信息有效）</span></li><li id="j9QsDM2gh8kYY57DnnGpUZ"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">笔记质量高，避免图文无关</span></li></ul><h2 id="cURrqGwxtmVLvwAnRFBWZq" class="wolai-block"><span class="inline-wrap">3.5 聚类召回总结</span></h2><ul class="wolai-block"><li id="nZG2wqXS6RL9K1jGbuz8j3"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="red inline-wrap"><b>基本思想</b></span><span class="inline-wrap">：根据用户的点赞、收藏、转发记录，推荐内容相似的笔记</span></li><li id="vuM1zfYnJxNT16LT5gWkae"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="red inline-wrap"><b>线下训练</b></span><span class="inline-wrap">：多模态神经网络把图文内容映射到向量</span></li><li id="dVBRGgTUi27nFH5GmnrzaQ"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="red inline-wrap"><b>线上服务</b></span><span class="inline-wrap">：</span><span class="yellow inline-wrap">用户历史喜欢的笔记 → 特征向量 → 最近的 Cluster → 每个 Cluster 上的新笔记</span></li></ul><h1 id="wyLV1q9DkgmCWRNXV4RWbH" class="wolai-block"><span class="inline-wrap">4.Look-Alike<span class="jill"></span>人群扩散</span></h1><h2 id="s9Qs3Auu7pEdhz9xrZUBMT" class="wolai-block"><span class="inline-wrap">4.1 Look-Alike 起源于互联网广告</span></h2><div id="hwzYpWE4iazTZgaMRBE5xt" class="wolai-block wolai-text"><div><span class="inline-wrap">Tesla Model 3 典型用户：</span></div></div><ul class="wolai-block"><li id="bkeApxhrFVvhFbCMay4Y5p"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">年龄 25~35</span></li><li id="mMgJDHqEoJymrDf5Nxg41q"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">本科学历以上</span></li><li id="9P8Jk9huSjjomYPQ55Jp9n"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">关注科技数码</span></li><li id="wpWoMFjS7KWGyssrQXHPbz"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">喜欢苹果电子产品</span></li></ul><div id="4kXVY1xyf6YjPCLqiVyQn9" class="wolai-block wolai-text"><div><span class="inline-wrap">符合全部条件的人很少，但是潜在符合调价的用户可能会很多，我们缺乏他们的主要信息，没有办法找到他们。</span></div></div><div id="rEMAzMLcQjACMPGUoEgFcH" class="wolai-block wolai-text"><div><span class="inline-wrap"> Look-Alike<span class="jill"></span>用户：和种子用户相似的用户。利用这种方式，可以用十几万个种子用户扩展到百万用户。</span></div></div><div id="6WMHexaKUgey7w9pf5rcft" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_7.png" style="width: 100%"/></figure></div><div id="oVvgZDEBmYz4Ydq7dexsL5" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>如何计算两个用户的相似度？</b></span></div></div><ul class="wolai-block"><li id="kZMamizhhBd5B4c36bMgqT"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">UserCF：两个用户有共同的兴趣点</span></li><li id="fYkN5nZQ13RyWD5fFWbsY4"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">Embedding：两个用户向量的 cosine 较大</span></li></ul><h2 id="wamnRMKVsCTuASra91nv4B" class="wolai-block"><span class="inline-wrap">4.2 Look-Alike 用于新笔记召回</span></h2><ul class="wolai-block"><li id="otEMxgs1WohxYmMVzh5Kof"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">点击、点赞、收藏、转发——用户对笔记可能感兴趣</span></li><li id="jbghZGr5qcZigHcSjQs71j"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="red inline-wrap"><b>把有交互的用户作为新笔记的种子用户</b></span></li><li id="aQzpqRN6f1yUdpc67cX73g"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">用 look-alike 在相似用户中扩散</span></li></ul><h3 id="uMWcoGQQJqh5WtNjWrF181" class="wolai-block"><span class="inline-wrap">（1）Look-Alike 用于新笔记召回</span></h3><ul class="wolai-block"><li id="n9vWNpDBXESHbCsUspa4RP"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">系统把新笔记推荐给了许多用户，由于是新笔记，所以受众不太精准</span></li><li id="ov4tZGv9W5wwYz4TNJj9wA"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">而跟新笔记进行了交互用户，就成了</span><span class="red inline-wrap"><b>种子用户</b></span></li><li id="swHyQoGqZUYfDFh8Awd2aM"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">用双塔模型</span><span class="red inline-wrap"><b>学习种子用户</b></span><span class="inline-wrap">的向量，然后取均值，把得到的向量作为 新笔记 的表征</span></li></ul><div id="dyr6x2pvVqEQEeFXybkWh2" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_8.png" style="width: 100%"/></figure></div><ul class="wolai-block"><li id="enfQ5c6XYosCq5v2CGXB9x"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="red inline-wrap"><b>近线更新特征向量</b></span><span class="inline-wrap">。近线：不用实时更新，做到分钟级更新即可</span></li><li id="4xfMj3iQsUHnrtmRLw6wJu"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">此处是做到每当有新交互发生后，几分钟内更新特征向量</span></li><li id="9vNohSgd4KwyiGreDW6Wc8"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">特征向量是有交互的用户的向量的平均</span></li><li id="cL1ciJVtpb8xVKosS6Whfc"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">每当有用户交互该物品，更新笔记的特征向量</span></li></ul><div id="3xmMwTkZw3S8gNE4Ywnpxj" class="wolai-block"><figure class="wolai-center" style="width: 357px; flex-direction: column"><img src="media/image_9.png" style="width: 100%"/></figure></div><h3 id="oA2qWgo6mFyxw5LHbb9qi1" class="wolai-block"><span class="inline-wrap">（2）线上召回</span></h3><div id="aw21yDJrszWwS9Hxx5nPK9" class="wolai-block wolai-text"><div><span class="inline-wrap">把新笔记向量都放在向量数据库中，这些向量数据库都支持最近邻查找；如果有用户刷一下小红书，就给用户做推荐。</span></div></div><div id="w32WqWN1q8HtebZsAUEFmc" class="wolai-block wolai-text"><div><span class="inline-wrap">用双塔模型计算用户的特征向量，用特征向量作为<span class="jill"></span>query，在向量数据库中做最近邻查找，取回几十篇笔记。</span></div></div><div id="9xNX6SfshNJq4SMiVX9TYQ" class="wolai-block wolai-text"><div><span class="inline-wrap">这个召回通道就叫 Look-Alike</span></div></div><div id="7D29ALFKf6B6LHMsCh1Avn" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_10.png" style="width: 100%"/></figure></div><h2 id="jjPUJ4Z9JjNPzSeChW7bxC" class="wolai-block"><span class="inline-wrap">4.3 </span><span class="inline-wrap">Look-Alike 的原理</span></h2><div id="8D6ghT1Z7KdMAi4erP7PK1" class="wolai-block wolai-text"><div><span class="inline-wrap">左边：种子用户，有交互行为</span></div></div><div id="hpgg4S5SBzLmRXfE7iE72x" class="wolai-block wolai-text"><div><span class="inline-wrap">将种子用户的特征向量作为新笔记的特征向量</span></div></div><div id="c92TB3jetWMFTPS37zaWjx" class="wolai-block wolai-text"><div><span class="inline-wrap">和广告中的<span class="jill"></span>Look-Alike 是一样的。</span></div></div><div id="oUcyUZE4s2AAy3muQ3vUVL" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_11.png" style="width: 100%"/></figure></div><h1 id="nEGPqzCfRRmC2vF8WxB5X6" class="wolai-block"><span class="inline-wrap">5.流量调控</span></h1><h2 id="7ELitmBJEwssiCF2VQCNZ5" class="wolai-block"><span class="inline-wrap">5.1 流量调控</span></h2><h3 id="uUqfeRLQQRPZhCg2z92kWE" class="wolai-block"><span class="inline-wrap">（1）</span><span class="inline-wrap"><b>冷启动的优化点</b></span></h3><ul class="wolai-block"><li id="fjBHaE9uVeyRHqsJtdhbqN"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">优化全链路（包括召回和排序）</span></li><li id="dmPTstkAhcSjHvvNbjQJGq"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">流量调控（流量怎么在新物品、老物品中分配）</span></li></ul><div id="22jYV1hahimRir998AZcXi" class="wolai-block wolai-text"><div><span class="inline-wrap">工业界的通常做法是扶持新笔记</span></div></div><h3 id="pTJyqp5Q3XV4Rzwb137vwK" class="wolai-block"><span class="inline-wrap">（2）扶持新笔记的目的</span></h3><div id="9CwHm7gpR8VSjwb9FamJuk" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>目的 1：促进发布，增大内容池</b></span></div></div><ul class="wolai-block"><li id="4fRXPspeemWjCV9PcMbSxZ"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">新笔记获得的曝光越多，作者创作积极性越高</span></li><li id="tDjYuxznTwkRa5PmYP69wv"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">反映在发布渗透率、人均发布量</span></li></ul><div id="vZ6cRL83bK6wuGvCsLUbe8" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>目的 2：挖掘优质笔记</b></span></div></div><ul class="wolai-block"><li id="wWoDQAVhRppFfv33eHrAL"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">做探索，让每篇新笔记都能获得足够曝光</span></li><li id="eXhtU7ifTv7waRuSnFXMqh"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">挖掘的能力反映在高热笔记占比</span></li></ul><h3 id="bzKM6d1PhJng6nw3HQERko" class="wolai-block"><span class="inline-wrap">（3）工业界的做法</span></h3><ul class="wolai-block"><li id="rAuiM6eHWuyGyHtAw4BbFu"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">假设推荐系统只分发年龄 &lt;30 天的笔记。</span></li><li id="92ZkrTNwmhDGU6UoRvVduY"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">假设采用自然分发，新笔记（年龄 &lt;24 小时）的曝光占比为 1/30</span></li><li id="cw1Vu8UayezV6DnMMRMt9s"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="red inline-wrap"><b>扶持新笔记，让新笔记的曝光占比远大于 1/30</b></span></li></ul><h3 id="gJNkFjueo1zj9XXViSesc" class="wolai-block"><span class="inline-wrap">（4）流量调控技术的发展</span></h3><ol class="wolai-block"><li id="eq9N9GF5hfarq95R2bGzpt"><div class="marker"></div><span class="inline-wrap">在推荐结果中</span><span class="red inline-wrap"><b>强插</b></span><span class="inline-wrap">新笔记；</span></li><li id="eHm1Q4vxAXin6eYzgmLDi2"><div class="marker"></div><span class="inline-wrap">对新笔记的排序分数做</span><span class="red inline-wrap"><b>提权</b></span><span class="inline-wrap">（boost）。很划算的做法，实现不难，抖音、小红书前期都这么做；</span></li><li id="u2j2RrguecTeitQh4GuMLr"><div class="marker"></div><span class="inline-wrap">通过提权，对新笔记做</span><span class="red inline-wrap"><b>保量</b></span><span class="inline-wrap">；保量的手段也是提权，只不过更复杂一些</span></li><li id="w1TLFMYt9fKDj2L6LUH61b"><div class="marker"></div><span class="red inline-wrap"><b>差异化保量</b></span><span class="inline-wrap">：根据内容质量，来确定保量定多少</span></li></ol><h2 id="x6ZcjRy2ataYqgeXxTArGi" class="wolai-block"><span class="inline-wrap">5.2<span class="jill"></span>新笔记提权（boost）</span></h2><div id="rfWgBJhaAYa15eSe8UcjuD" class="wolai-block wolai-text"><div><span class="inline-wrap">如果不做提权干预，新笔记的曝光机会是很少的</span></div></div><div id="djGGNXFdYbYQMpHjyqUs3k" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_12.png" style="width: 100%"/></figure></div><div id="xhTaksbSen2cmBXv5ZNERb" class="wolai-block wolai-text"><div><span class="inline-wrap">目标：让新笔记有更多机会曝光</span></div></div><ul class="wolai-block"><li id="cWKk7QNW1jTNTUk9J2wrrY"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">如果做</span><span class="red inline-wrap"><b>自然分发，24 小时新笔记占比为 1/30</b></span></li><li id="roVzmUwQ8QhKZiHqCeTRX1"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">做人为干涉，让新笔记占比大幅提升</span></li></ul><div id="okUN9VXwz2L53KXrjSHhvt" class="wolai-block wolai-text"><div><span class="red inline-wrap">干涉</span><span class="red inline-wrap"><b>粗排、重排</b></span><span class="red inline-wrap">环节</span><span class="inline-wrap">，给新笔记提权</span></div></div><div id="5mgYc6E8275gZr6R8m1ofA" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>优点</b></span><span class="inline-wrap">：容易实现，投入产出比好</span></div></div><div id="hZYkup5YY9cyjAYdvsDKVP" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>缺点</b></span><span class="inline-wrap">：</span></div></div><ul class="wolai-block"><li id="szfciN29aYzu3rMk91PZEb"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">曝光量对</span><span class="red inline-wrap">提权系数</span><span class="inline-wrap">很敏感</span></li><li id="kUfkiW4AbNsCRKKyx5Su8s"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="red inline-wrap"><b>很难精确控制曝光量</b></span><span class="inline-wrap">，容易过度曝光和不充分曝光</span></li></ul><h2 id="aGyVFwHGA1jwAzPtjcdF2r" class="wolai-block"><span class="inline-wrap">5.3 新笔记保量</span></h2><div id="quGjY9SJQcfZ5gZKEnycVJ" class="wolai-block wolai-text"><div><span class="inline-wrap">保量：不论笔记质量高低，都保证 24 小时获得 100 次曝光</span></div></div><h3 id="wwshxJfsPi68s2feRUB67c" class="wolai-block"><span class="inline-wrap">（1）最原始保量方法</span></h3><div id="4mz8TJrihDCLDB4redGYgu" class="wolai-block wolai-text"><div><span class="inline-wrap">在原有提权系数的基础上，乘以额外的提权的系数，比如：</span></div></div><div id="wbzDS5kgMGundkfCDCKquK" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_13.png" style="width: 100%"/></figure></div><h3 id="afj3DUp8CZxakgxnV6VTKq" class="wolai-block"><span class="inline-wrap">（2）动态提权保量</span></h3><div id="rNMoVw2vtNQk8y4NLcR29" class="wolai-block wolai-text"><div><span class="inline-wrap">用下面四个值计算提权系数</span></div></div><ul class="wolai-block"><li id="iBZHQCzJPhDWTwdm8zzh5r"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">目标时间：比如 24 小时</span></li><li id="tuRVdErhftgbTY2k4RegY4"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">目标曝光：比如 100 次</span></li><li id="stLmhjLhDZHU5wUCXRRqHn"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">发布时间：比如笔记已经发布 12 小时</span></li><li id="7zkwB8CLYvbArMRZFSCPo6"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">已有曝光：比如笔记已经获得 20 次曝光</span></li></ul><div id="9Cu3ep1hA5k8ALjrrAyP6R" class="wolai-block wolai-text"><div><span class="inline-wrap">提权系数 ： </span><span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>提权系数</mtext><mo>=</mo><mi>f</mi><mrow><mo fence="true">(</mo><mfrac><mtext> 发布时间 </mtext><mtext> 目标时间 </mtext></mfrac><mo separator="true">,</mo><mfrac><mtext> 已有曝光 </mtext><mtext> 目标光 </mtext></mfrac><mo fence="true">)</mo></mrow><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><mn>0.5</mn><mo separator="true">,</mo><mn>0.2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">提权系数 =f\left(\frac{\text { 发布时间 }}{\text { 目标时间 }}, \frac{\text { 已有曝光 }}{\text { 目标光 }}\right)=f(0.5,0.2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">提权系数</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2223em;vertical-align:-0.35em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight"> </span><span class="mord cjk_fallback mtight">目标时间</span><span class="mord mtight"> </span></span></span></span></span><span style="top:-3.225em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.05em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight"> </span><span class="mord cjk_fallback mtight">发布时间</span><span class="mord mtight"> </span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight"> </span><span class="mord cjk_fallback mtight">目标光</span><span class="mord mtight"> </span></span></span></span></span><span style="top:-3.225em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.05em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight"> </span><span class="mord cjk_fallback mtight">已有曝光</span><span class="mord mtight"> </span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord">0.5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0.2</span><span class="mclose">)</span></span></span></span></span></div></div><h3 id="akN2m9LarTcP5KNq1JAPzg" class="wolai-block"><span class="inline-wrap">（3）保量的难点</span></h3><div id="bbscEwVn5LCPxaKUG73SP4" class="wolai-block wolai-text"><div><span class="yellow inline-wrap"><b>保量成功率远低于 100%</b></span></div></div><ul class="wolai-block"><li id="22qMnkdjrapUPguATix4m2"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">很多笔记在 24 小时达不到 100 次曝光</span></li><li id="d3cZVmjeGvHxR88M6e36"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">召回、排序存在不足</span></li><li id="2Rhtukf4eMJNCRdDLeNdG2"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">提权系数调得不好</span></li></ul><div id="t8pGQKTidfK5qT81TDgiSc" class="wolai-block wolai-text"><div><span class="yellow inline-wrap"><b>线上环境变化会导致保量失败</b></span></div></div><ul class="wolai-block"><li id="9vhcxpy7pPV2S5LaWfhNRY"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">线上环境变化：新增召回通道、升级排序模型、改变重排打散规则......</span></li><li id="rVmrvk4Ev237ZZQVJCLudA"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">线上环境变化后，需要调整提权系数</span></li></ul><div id="ouT7BkU3qE8F4Hx3vP9MSu" class="wolai-block wolai-text"><div><span class="inline-wrap">思考题：是否可以给所有新笔记一个很大的提权系数（比如 4 倍），直到达成 100 次曝光为止？</span></div></div><ul class="wolai-block"><li id="fS93isB7ZLiphAPL2U1PRC"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">这样的保量成功率很高</span></li><li id="kzukhkuGM34ssptiG8BgAx"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">为什么不用这种方法呢？</span></li></ul><div id="8HudLUK1RxMKPpkcMKiYp6" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>给新笔记分数 boost 越多，对新笔记越有利？</b></span></div></div><ul class="wolai-block"><li id="eZ2u53FrpbTGfnVqgjzSaV"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">好处：分数提升越多，曝光次数越多</span></li><li id="ucFJ4cDK6JduoLJBEyfQz8"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">坏处：把笔记推荐给不太合适的受众</span><ul class="wolai-block"><li id="quyDdLEz2wJNuqbCVXYoYj"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">点击率、点赞率等指标会偏低</span></li><li id="xiC7bo1waR6FwvbutVUx7C"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">笔记长期会受推荐系统打压，难以成长为热门笔记</span></li></ul></li></ul><div id="6CQpkyc8m4f9Db5SnhzuZz" class="wolai-block wolai-text"><div><span class="inline-wrap">即这个笔记如果推荐给合适用户，那它是不错的，但</span><span class="yellow inline-wrap"><b>强行提高曝光次数，导致它被经常推给不适合的用户，进而交互指标偏低</b></span></div></div><h2 id="4EJT9FA9p1LA4uaSX5e7WP" class="wolai-block"><span class="inline-wrap">5.4<span class="jill"></span>差异化保量</span></h2><div id="efdxpd8YqrbHEfFmZMHiXy" class="wolai-block wolai-text"><div><span class="yellow inline-wrap"><b>保量</b></span><span class="inline-wrap">：不论新笔记质量高低，都做扶持，在前 24 小时给 100 次曝光</span></div></div><div id="pv9ARswCNN5orwKBpVXvzo" class="wolai-block wolai-text"><div><span class="yellow inline-wrap"><b>差异化保量</b></span><span class="inline-wrap">：不同笔记有不同保量目标，普通笔记保 100 次曝光，内容优质的笔记保 100~500 次曝光</span></div></div><ul class="wolai-block"><li id="nRXT4p1BtpX2KxtS45UKBc"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><b>基础保量</b></span><span class="inline-wrap">：24 小时 100 次曝光</span></li><li id="41ggCkULWNZN4w3B52njRD"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><b>内容质量</b></span><span class="inline-wrap">：用模型评价内容质量高低，给予额外保量目标，上限是加 200 次曝光</span></li><li id="8eETjacdV45Q7SNcZxCvFH"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><b>作者质量</b></span><span class="inline-wrap">：根据作者历史上的笔记质量，给予额外保量目标，上限是加 200 次曝光</span></li><li id="vmSomNSeB2qad6f6SSUXR3"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">一篇笔记最少有 100 次保量，最多有 500 次保量</span></li></ul><h2 id="x84Cv49SRCZjo3NhxyCQVy" class="wolai-block"><span class="inline-wrap">5.5<span class="jill"></span>总结</span></h2><ul class="wolai-block"><li id="nVkNZG4g796TTZaujCPUKw"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><b>流量调控</b></span><span class="inline-wrap">：流量怎么在新老笔记之间分配</span></li><li id="noV7t9DWsRN8L1rYFNHQAo"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><b>扶持新笔记</b></span><span class="inline-wrap">：增加单独的召回通道、在排序阶段提权</span></li><li id="cGqX32hB7J8jPNhagDNNVv"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><b>保量</b></span><span class="inline-wrap">：帮助新笔记在前 24 小时获得 100 次曝光</span></li><li id="61ABX59J93HfjbYWVr56Lg"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><b>差异化保量</b></span><span class="inline-wrap">：根据内容质量、作者质量，决定保量目标</span></li></ul><div id="qwZWtQZP7NintRaAbEgXtp" class="wolai-block wolai-text"><div><span class="inline-wrap">本节后面讲的保留技术不是最新的，但也只有业界一线核心部门能做到，而且做到后对作者侧的指标提升显著</span></div></div><h1 id="oH7LD4cRavYWbeTuMMftJm" class="wolai-block"><span class="inline-wrap">6.AB<span class="jill"></span>测试</span></h1><div id="bP2JseKMAidYzZ35yFRJar" class="wolai-block wolai-text"><div><span class="inline-wrap">想要上线新的模型或策略都要做 AB 测试。冷启动的 AB 测试特别复杂，所以单独讲一节  </span></div></div><h2 id="sX38KRy4sZep14tj4ZCA8" class="wolai-block"><span class="inline-wrap">6.1<span class="jill"></span>新笔记冷启动 AB 测试  </span></h2><div id="wwpgQEMYA35akKdPcqoZhs" class="wolai-block wolai-text"><div><span class="inline-wrap">作者侧（发布）指标：</span></div></div><ul class="wolai-block"><li id="3s8v87tEHASHUrSetCrHJT"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">发布渗透率、人均发布量  </span></li></ul><div id="pMNppfYpLBFGEfRHspWjht" class="wolai-block wolai-text"><div><span class="inline-wrap">用户侧（消费）指标：  
</span></div></div><ul class="wolai-block"><li id="3dsnx4X4bhtGRsFNiAy9Zo"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">对新笔记的点击率、交互率</span></li><li id="UTYaLNHQH8CmVa1E92dC4"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">大盘指标：消费时长、日活、月活  </span></li></ul><div id="giVG3HV635knKFaU157cqm" class="wolai-block wolai-text"><div><span class="inline-wrap">标准的 AB 测试只测大盘指标，而冷启动 AB 测试还要测上面提到的指标  </span></div></div><div id="qDFL4Bd8WEtk8He6Nj5MCN" class="wolai-block wolai-text"><div><span class="inline-wrap"><b>标准的<span class="jill"></span>AB<span class="jill"></span>测试</b></span></div></div><div id="ggWWNMdPkdRBrD7rQG8Ty9" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_14.png" style="width: 100%"/></figure></div><h2 id="8sxTEDQo4hn2QVtYAiS11Q" class="wolai-block"><span class="inline-wrap">6.2<span class="jill"></span>用户侧实验 </span></h2><div id="2W97x6XxLmnAA6iib3bC2k" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_15.png" style="width: 100%"/></figure></div><h3 id="rVz4k3WfVuk8hgM4DiyDmp" class="wolai-block"><span class="inline-wrap"> (1）缺点</span></h3><ul class="wolai-block"><li id="wgX9vXr4zdrU58jjz1fod7"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">限定：保量 100 次曝光  </span></li><li id="p1Qvx8uSEpQKX9RQSaKDvX"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">假设：新笔记曝光越多，用户使用 APP 时长越低 ；这个假设很合理，因为新笔记推送不准确，过多会影响体验  </span></li><li id="dX6gGNZX9PW4Jp1irdXZZ"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">新策略：把新笔记排序时的权重增大两倍  </span></li><li id="prSrqCjs6Rp3cUMPZnLM7t"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">结果（只看消费指标）：  </span><ul class="wolai-block"><li id="wkRF2Hg5ftLpXZTVGyeetS" class="red"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><b>AB 测试的 diff 是负数（策略组不如对照组）  </b></span></li><li id="q66U84ZCkUAaYp6D8s1ngE" class="red"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><b>如果推全，diff 会缩小（比如 −2% → −1%）  </b></span></li></ul></li></ul><div id="snD35kaoSJ8oe1yygP6qs1" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_16.png" style="width: 100%"/></figure></div><div id="tRypyK4sYDRE3NcQVFCBem" class="wolai-block wolai-text"><div><span class="inline-wrap">使用新策略后，实验组看到的新笔记会增多，又因为有着保量 100 次的目标，所以对照组看到的新笔记数量会减少；</span></div></div><div id="xyfSB4r8UkgykfrPoiBkQv" class="wolai-block wolai-text"><div><span class="inline-wrap">实验组看多了新笔记，消费指标变差；对照组看少了新笔记，消费指标变好  </span></div></div><div id="qDjFG8EnTBjBNsmHHvPu6P" class="wolai-block wolai-text"><div><span class="inline-wrap">但推全后，这 100 次的保量目标会均匀的分配给所有用户，消费指标依然会下降，但不会有 实验组 那么差  </span></div></div><h2 id="vK4grfb7udHHNyiq4X34zQ" class="wolai-block"><span class="inline-wrap">6.3<span class="jill"></span>作者侧实验  </span></h2><div id="fatiTfAfYPPVrPLjuxuWV7" class="wolai-block wolai-text"><div><span class="inline-wrap">作者侧实验不好做，没有很完美的实验方案。  </span></div></div><div id="piXoKkghjNKzjRdtxNoj3M" class="wolai-block wolai-text"><div><span class="inline-wrap">作者侧实验示意图</span></div></div><h3 id="mqbjHTTWfDqUZAX2h4Qd3V" class="wolai-block"><span class="inline-wrap">（1）作者侧实验：方案一  </span></h3><div id="2pWtJjyE3WBd7V2fwrM4Te" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_17.png" style="width: 100%"/></figure></div><div id="wpJtm3MHQqDQeWPWM8EFvv" class="wolai-block wolai-text"><div><span class="red inline-wrap"><b>缺点：新笔记之间会抢流量</b></span><span class="inline-wrap">。给实验组新笔记提权后，同是新笔记，实验组中的能获得更多曝光，而对照组中的曝光就少了，而一旦推全后，就不存在新笔记间强流量的情况，diff 就消失了 。</span></div></div><div id="pZAXdcAg2n3Tt6HgfuwEb4" class="wolai-block wolai-text"><div><span class="inline-wrap">设定：  </span></div></div><ul class="wolai-block"><li id="seC7M1ZHVBfdvgqhNTFJe3"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">新老笔记走各自队列，没有竞争  </span></li><li id="aerkHDCUZGMmj52vkwkceY"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">重排分给新笔记 1/3 流量，分给老笔记 2/3 流量  ，两者曝光占比固定不变</span></li></ul><div id="gJ8uxjUFRQ25Y9zjVoQ1xc" class="wolai-block wolai-text"><div><span class="red inline-wrap"><b>新策略</b></span><span class="inline-wrap">：把新笔记的权重增大两倍；这对新笔记来说依然是公平竞争，而新笔记在重排中还是 1/3 流量，所以新策略不会激励发布，不会改变发布侧指标 。</span></div></div><div id="pEJ4HjDWq7i1BoMgkbn89m" class="wolai-block wolai-text"><div><span class="inline-wrap">结果（只看发布指标）：  </span></div></div><ul class="wolai-block"><li id="6pHUYzFy7ifeeKQSA54Jwq"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">AB 测试的 diff 是正数（实验组优于对照组）；实验组的新笔记会抢走对照组的曝光，那么实验组的发布指标会涨，对照组的发布指标会跌。</span></li><li id="cELHGw8XwAmcK6mDyzFonu"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">如果推全，diff 会消失（比如 2% → 0）  </span></li></ul><h4 id="mEpwMbUBmgxs8396uUyqAS" class="wolai-block"><span class="inline-wrap">缺点一：新笔记之间会抢流量  </span></h4><div id="wQN1XiPdsTsdv5TAbqMj3u" class="wolai-block wolai-text"><div><span class="inline-wrap">给实验组新笔记提权后，同是新笔记，实验组中的能获得更多曝光，而对照组中的曝光就少了，而一旦推全后，就不存在新笔记间强流量的情况，diff 就消失了 。</span></div></div><div id="mhQBBgnp64fbNJ8RMyJ9FN" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_18.png" style="width: 100%"/></figure></div><h4 id="37VgrURNamRbDoVHSx6KUp" class="wolai-block"><span class="inline-wrap">缺点二：新笔记和老笔记抢流量  </span></h4><div id="v68C1mWpYj9Zn2nj5SJuoR" class="wolai-block wolai-text"><div><span class="inline-wrap">设定：新老笔记自由竞争  </span></div></div><div id="nkGiKiNuqmHaxoJgRpAcVY" class="wolai-block wolai-text"><div><span class="inline-wrap">新策略：把新笔记排序时的权重增大两倍  </span></div></div><div id="u8vTeSh5GP4CG3VmAGUSU" class="wolai-block wolai-text"><div><span class="inline-wrap">AB 测试时，50% 新笔记（带策略）跟 100% 老笔记抢流量；</span><span class="yellow inline-wrap">一份新笔记抢走两份老笔记的流量。</span><span class="inline-wrap">  </span></div></div><div id="kwfoSFsXfXkHtcNpxhKUxK" class="wolai-block wolai-text"><div><span class="inline-wrap">推全后，100% 新笔记（带策略）跟 100% 老笔记抢流量；</span><span class="yellow inline-wrap">一份新笔记只能抢走一份老笔记的流量</span></div></div><div id="788sez6tXWYv7QrV75dwa3" class="wolai-block wolai-text"><div><span class="inline-wrap">作者侧 AB 测试结果与推全结果有些差异  。</span></div></div><div id="maRqAVAosLiwQoJRxBFxE4" class="wolai-block wolai-text"><div><span class="red inline-wrap"><b>新老笔记抢流量不是问题，问题是 AB 测试与推全后的 设定 不一致，导致 AB 测试的结果不准确 </b></span></div></div><div id="ig9wdPX1vf5ZtZWm1AAvox" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_19.png" style="width: 100%"/></figure></div><h3 id="njSf8SeVuMxGAxdUUhsJQa" class="wolai-block"><span class="inline-wrap">（2）作者侧实验：方案二</span></h3><div id="Ma2YjcRycjVeRabuMRZFm" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_20.png" style="width: 100%"/></figure></div><div id="2eXZepf4PvSMGiRa1GqrLv" class="wolai-block wolai-text"><div><span class="red inline-wrap">实验组用户只能看到实验组新笔记</span><span class="inline-wrap">，对照组用户同理  </span></div></div><div id="dR4P2JpftBNjA2U4FqpaRy" class="wolai-block wolai-text"><div><span class="inline-wrap">这样就避免了两组新笔记抢流量  </span></div></div><div id="sMH38A7R3QQGnvgvPcjwXN" class="wolai-block wolai-text"><div><span class="inline-wrap">方案二比方案一的优缺点  </span></div></div><ul class="wolai-block"><li id="hpy8j4cL1AGwSg2EKVyJAd"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><b>优点</b></span><span class="inline-wrap">：新笔记的两个桶不抢流量，作者侧实验结果更可信  </span></li><li id="6t2eQAyFyWxK2YCUNdCiSr"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap"><b>相同缺点</b></span><span class="inline-wrap">：新笔记和老笔记抢流量，作者侧 AB 测试结果与推全结果有些差异；依然是 AB 测试时 50% 新笔记跟 100% 老笔记抢流量，推全后 100% 新笔记跟 100% 老笔记抢流量 ；</span></li><li id="ct3SXqnWCsFxpbXEZhbtwm"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">方案二</span><span class="red inline-wrap"><b>缺点</b></span><span class="inline-wrap">：新笔记池减小一半，对用户体验造成负面影响  </span></li></ul><h3 id="wTMRqy3The2SQLSpReTasv" class="wolai-block"><span class="inline-wrap">（3）作者侧实验：方案三</span></h3><div id="KXg79dioZbQGcNEMqdskK" class="wolai-block"><figure class="wolai-center" style="width: 100%; flex-direction: column"><img src="media/image_21.png" style="width: 100%"/></figure></div><div id="dtxfk4CULxmUnYCtHsQfXL" class="wolai-block wolai-text"><div><span class="inline-wrap">相当于把小红书切成了 2 个 APP  </span></div></div><div id="7j6T4ZvRtquV1peFELiXf1" class="wolai-block wolai-text"><div><span class="inline-wrap">这样做的实验结果是最精准的  </span></div></div><div id="rihpe3j2fSpzTixsZfQa61" class="wolai-block wolai-text"><div><span class="red inline-wrap"><b>不太可行，太损害用户体验了 </b></span><span class="inline-wrap"> ，内容池小了一般，消费指标一定会大跌；</span></div></div><div id="pqfzBV22GWA8jHH41KMSFa" class="wolai-block wolai-text"><div><span class="inline-wrap">但是跨国 APP 可以用这个方案呀  </span></div></div><h2 id="jcjW4ogco6TYjFi2PoaBEU" class="wolai-block"><span class="inline-wrap">6.4<span class="jill"></span>总结  </span></h2><ul class="wolai-block"><li id="51w6eHqtNjsK3ThKDVHseo"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">冷启的 AB 测试需要观测作者发布指标和用户消费指标 ；两个目标：激励作者发布、让用户满意</span></li><li id="di8MaPgvUVGvH6rUZBR1KJ"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">各种 AB 测试的方案都有缺陷（小红书有更好的方案，但也不完美）  </span></li><li id="9fZUfFcnEUys2e9ooccAb6"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">设计方案的时候，问自己几个问题：  </span><ul class="wolai-block"><li id="3xiQTCdhNoiaqH1k7LJBB6"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">实验组、对照组新笔记会不会抢流量？  </span></li><li id="gCimiBdtASn4D5BQgLHX2H"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">新笔记、老笔记怎么抢流量？  AB 测试时怎么抢？推全后怎么抢？  </span></li><li id="qm958txszP7Ci14xbRnWqU"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">同时隔离笔记、用户，会不会让内容池变小？  </span></li><li id="qoqTbfqC2PGidLQFPVgc31"><div class="marker"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"></path></svg></div><span class="inline-wrap">如果对新笔记做保量，会发生什么？  </span></li></ul></li></ul><div id="ukRUrRjdNZTBpjCQoVvRYC" class="wolai-block wolai-text"><div><span class="inline-wrap"></span><br/></div></div></article><footer></footer></body></html>